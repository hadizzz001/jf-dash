"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[315],{5369:function(e,n,r){r.d(n,{a:function(){return c},b:function(){return i},d:function(){return f},u:function(){return o}});var t=r(2310),a=r(5852),u=r(5390),l=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)(function(){n.current=e},[e]),n},o=function(e){var n=l(e);return(0,t.useCallback)(function(){return n.current&&n.current.apply(n,arguments)},[n])},i=function(e,n){var r=(0,t.useRef)(void 0);u(n,r.current)||(r.current=n),(0,t.useEffect)(e,r.current)},c=function(e,n){i(function(){Object.entries(e||[]).forEach(function(e){var r=(0,a.b)(e,2),t=r[0],u=r[1];n.registerTab(t,function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return u.apply(void 0,r.concat([n]))})})},[e,n])},f=function(e){return e}},2512:function(e,n,r){r.r(n),r.d(n,{default:function(){return s}});var t=r(5852),a=r(2310),u=r(2007),l=r(5369);r(5390);var o=["value","apiRef","onTabChange","onChange","onProgress","customTabs","previewUrlCallback","metadataCallback"],i={height:"500px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},c=function(e,n){var r=[];return e&&(r=Array.isArray(e)?e:[e]),r},f=function(e,n){var r=e.value,u=e.apiRef,i=e.onTabChange,f=e.onChange,s=e.onProgress,d=e.customTabs,C=e.previewUrlCallback,v=e.metadataCallback,b=(0,t._)(e,o),p=b.tabsCss,L=b.locale,m=b.localeTranslations,A=b.localePluralize,E=(0,a.useRef)(null),w=(0,a.useRef)(null),y=(0,l.u)(i),R=(0,l.u)(f),_=(0,l.u)(s),h=(0,l.u)(v),T=(0,l.u)(C||l.d);return(0,l.a)(d,n),(0,l.b)(function(){return L&&(window.UPLOADCARE_LOCALE=L),A&&(window.UPLOADCARE_LOCALE_PLURALIZE=A),m&&(window.UPLOADCARE_LOCALE_TRANSLATIONS=m),function(){L&&delete window.UPLOADCARE_LOCALE,A&&delete window.UPLOADCARE_LOCALE_PLURALIZE,m&&delete window.UPLOADCARE_LOCALE_TRANSLATIONS}},[L,A,m]),(0,a.useEffect)(function(){n&&p&&"string"==typeof p&&(0===p.indexOf("https://")?n.tabsCss.addUrl(p):n.tabsCss.addStyle(p))},[n,p]),(0,a.useEffect)(function(){var e=c(r);w.current&&w.current.reject(),w.current=n.openPanel(E.current,e,(0,t.a)((0,t.a)({multipleMax:b.multiple?void 0:1},b),{},{multiple:!0,metadataCallback:b.metadata?void 0:h,previewUrlCallback:T}))},[n].concat((0,t.c)(Object.values(b)))),(0,a.useEffect)(function(){var e=w.current;e.progress(y);var n=function(){R(w.current.fileColl.__items.map(function(e){return e.promise()}))},r=function(){_(w.current.fileColl.lastProgresses())};return e.fileColl.anyProgressList.add(r),e.fileColl.anyDoneList.add(n),e.fileColl.anyFailList.add(n),e.fileColl.onRemove.add(n),e.fileColl.onReplace.add(n),e.fileColl.onSort.add(n),function(){var e=w.current;e.fileColl.anyProgressList.remove(r),e.fileColl.anyDoneList.remove(n),e.fileColl.anyFailList.remove(n),e.fileColl.onRemove.remove(n),e.fileColl.onReplace.remove(n),e.fileColl.onSort.remove(n)}},[].concat((0,t.c)(Object.values(b)),[y,R,_])),(0,a.useImperativeHandle)(u,function(){return{onTabVisibility:function(e){return w.current.onTabVisibility(e)},hideTab:function(e){return w.current.hideTab(e)},showTab:function(e){return w.current.showTab(e)},switchTab:function(e){return w.current.switchTab(e)},addFiles:function(e){return w.current.addFiles(e)},isTabVisible:function(e){return w.current.isTabVisible(e)},getFileColl:function(){return w.current.fileColl},getRawDialogApi:function(){return w.current}}},[]),(0,a.useEffect)(function(){return function(){return w.current&&w.current.reject()}},[]),(0,a.useEffect)(function(){var a=!1;w.current.fileColl.clear();var u,l=c(r),o=(0,t.d)(l);try{for(o.s();!(u=o.n()).done;){var i=u.value;if("string"==typeof i&&i.includes("~")){n.loadFileGroup(i,e).then(function(e){if(!a){var n=e.files();w.current.addFiles(n)}});break}w.current.fileColl.add(n.fileFrom("uploaded",i,e))}}catch(e){o.e(e)}finally{o.f()}return function(){a=!0}},[r]),[E]},s=function(e){var n=(0,a.useState)(function(){return"uploadcare-".concat(Date.now())}),r=(0,t.b)(n,1)[0],l=(0,a.useMemo)(function(){return a.createElement("style",null,"\n  .".concat(r," .uploadcare--preview__done:not(.uploadcare-tab-effects--done),\n  .").concat(r," .uploadcare--panel__done:not(.uploadcare-tab-effects--done) {\n    display: none;\n  }\n"))},[r]),o=f(e,u),c=(0,t.b)(o,1)[0];return a.createElement("div",{id:e.id,className:r,style:i},l,a.createElement("div",{ref:c}))}}}]);