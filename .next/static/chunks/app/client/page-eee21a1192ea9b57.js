(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{1983:function(e,t,r){Promise.resolve().then(r.bind(r,4035))},4035:function(e,t,r){"use strict";r.r(t);var o=r(3955),n=r(2310),s=r(6008);t.default=()=>{let[e,t]=(0,n.useState)({location:"",client:""}),[r,a]=(0,n.useState)(""),[l,c]=(0,n.useState)([]),i=async()=>{try{let e=await fetch("/api/clients",{method:"GET"});if(e.ok){let t=await e.json();c(t)}else console.error("Failed to fetch categories")}catch(e){console.error("Error:",e)}};(0,n.useEffect)(()=>{i()},[]);let d=async r=>{r.preventDefault();let o=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(o.ok)a("Category added successfully!"),t({client:"",location:""}),i(),(0,s.redirect)("/category");else{let e=await o.json();a("Error: ".concat(e.error))}},u=async e=>{if(confirm("Are you sure you want to delete this category?"))try{let t=await fetch("/api/clients?id=".concat(encodeURIComponent(e)),{method:"DELETE"});if(t.ok)a("Category deleted successfully!"),i(),(0,s.redirect)("/client");else{let e=await t.json();a("Error: ".concat(e.error))}}catch(e){console.error("Error:",e)}};return(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Add Category"}),(0,o.jsxs)("form",{onSubmit:d,className:"mb-6",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,o.jsx)("input",{type:"text",id:"location",name:"location",value:e.location,onChange:r=>t({...e,location:r.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"client",className:"block text-sm font-medium text-gray-700",children:"Client"}),(0,o.jsx)("input",{type:"text",id:"client",name:"client",value:e.client,onChange:r=>t({...e,client:r.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",required:!0})]}),(0,o.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Add Category"})]}),r&&(0,o.jsx)("p",{className:"text-red-500",children:r}),(0,o.jsx)("h2",{className:"text-xl font-bold mt-8",children:"All Categories"}),(0,o.jsxs)("table",{className:"table-auto border-collapse border border-gray-300 w-full mt-4",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"border border-gray-300 p-2",children:"Location"}),(0,o.jsx)("th",{className:"border border-gray-300 p-2",children:"Client"}),(0,o.jsx)("th",{className:"border border-gray-300 p-2",children:"Actions"})]})}),(0,o.jsx)("tbody",{children:l.length>0?l.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"border border-gray-300 p-2",children:e.location}),(0,o.jsx)("td",{className:"border border-gray-300 p-2",children:e.client}),(0,o.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:(0,o.jsx)("button",{onClick:()=>u(e.id),className:"bg-red-500 text-white px-4 py-1 rounded",children:"Delete"})})]},e.id)):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{className:"border border-gray-300 p-2 text-center",children:"No categories found."})})})]}),(0,o.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n  .uploadcare--widget {\n    background:black;\n  }\n"}})]})}},3009:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=r(2310),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var o,s={},i=null,d=null;for(o in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,o)&&!c.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===s[o]&&(s[o]=t[o]);return{$$typeof:n,type:e,key:i,ref:d,props:s,_owner:l.current}}t.Fragment=s,t.jsx=i,t.jsxs=i},3955:function(e,t,r){"use strict";e.exports=r(3009)},6008:function(e,t,r){e.exports=r(794)}},function(e){e.O(0,[704,801,744],function(){return e(e.s=1983)}),_N_E=e.O()}]);