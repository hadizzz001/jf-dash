(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{3124:function(e,t,l){Promise.resolve().then(l.bind(l,3786))},8515:function(e,t,l){"use strict";var a=l(3955),n=l(2312),r=l(5852),u=l(2310);t.Z=e=>{let{defaultValue:t,HandleImagesChange:l}=e,[o,s]=(0,u.useState)(!0),[c,i]=(0,u.useState)([]);return(0,a.jsx)(n.Z,{sx:{pt:"1.5em"},children:o&&(0,a.jsx)(r.W,{clearable:!0,multiple:!0,imagesOnly:!0,onChange:()=>{l(c)},onFileSelect:async e=>{let t=e&&e.files();if(!t)return;let l=[];for(let e=0;e<t.length;e++)t[e].done(e=>{(null==e?void 0:e.cdnUrl)&&l.push("".concat(e.cdnUrl))});i(l)},publicKey:"998cbc4a64cbfa34b932"})})}},3786:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return c}});var a=l(3955),n=l(2310),r=l(1213),u=l.n(r);l(3208);var o=l(8515);let s=u()(()=>Promise.all([l.e(585),l.e(669),l.e(922)]).then(l.t.bind(l,922,23)),{loadableGenerated:{webpack:()=>[922]},ssr:!1});function c(){let[e,t]=(0,n.useState)(""),[l,r]=(0,n.useState)(""),[u,c]=(0,n.useState)(""),[i,d]=(0,n.useState)(""),[f,p]=(0,n.useState)([{name:"",value:""}]),[b,m]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[x,y]=(0,n.useState)(""),[v,j]=(0,n.useState)(""),[S,N]=(0,n.useState)([""]),[_,w]=(0,n.useState)("products"),[C,O]=(0,n.useState)([]),[P,k]=(0,n.useState)("");(0,n.useEffect)(()=>{!async function(){try{let e=await fetch("/api/category/".concat(_));if(e.ok){let t=await e.json();O(t),k("")}else console.error("Failed to fetch categories")}catch(e){console.error("Error fetching categories:",e)}}()},[_]);let E=(e,t,l)=>{let a=[...f];a[e][t]=l,p(a)},q=async t=>{if(t.preventDefault(),1===S.length&&""===S[0])alert("Please choose atleast 1 image");else{let t=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,weight:l,shipping:u,description:i,specifications:f,sku:b,price:h,stock:x,videoLink:v,img:S,type:_,category:P})});t.ok?(alert("Product added successfully!"),window.location.href="/dashboard"):alert("Failed to add product")}};return(0,a.jsxs)("form",{onSubmit:q,className:"max-w-2xl mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Add New Product"}),(0,a.jsx)("input",{type:"text",placeholder:"Title",value:e,onChange:e=>t(e.target.value),className:"w-full border p-2 mb-4",required:!0}),(0,a.jsx)("input",{type:"number",step:"0.01",placeholder:"Weight",value:l,onChange:e=>r(e.target.value),className:"w-full border p-2 mb-4",required:!0}),(0,a.jsx)("input",{type:"text",placeholder:"Shipping",value:u,onChange:e=>c(e.target.value),className:"w-full border p-2 mb-4",required:!0}),(0,a.jsx)("label",{className:"block text-lg font-bold mb-2",children:"Type"}),(0,a.jsxs)("select",{value:_,onChange:e=>w(e.target.value),className:"w-full border p-2 mb-4",required:!0,children:[(0,a.jsx)("option",{value:"products",children:"Products"}),(0,a.jsx)("option",{value:"parts",children:"Parts"})]}),(0,a.jsx)("label",{className:"block text-lg font-bold mb-2",children:"Category"}),(0,a.jsxs)("select",{value:P,onChange:e=>k(e.target.value),className:"w-full border p-2 mb-4",required:!0,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),C.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,a.jsx)("input",{type:"text",placeholder:"SKU",value:b,onChange:e=>m(e.target.value),className:"w-full border p-2 mb-4",required:!0}),(0,a.jsx)("input",{type:"number",step:"0.01",placeholder:"Price",value:h,onChange:e=>g(e.target.value),className:"w-full border p-2 mb-4",required:!0}),(0,a.jsx)("input",{type:"number",placeholder:"Stock",value:x,onChange:e=>y(e.target.value),className:"w-full border p-2 mb-4",required:!0}),(0,a.jsx)("input",{type:"url",placeholder:"Video Link",value:v,onChange:e=>j(e.target.value),className:"w-full border p-2 mb-4"}),(0,a.jsx)("label",{className:"block text-lg font-bold mb-2",children:"Description"}),(0,a.jsx)(s,{value:i,onChange:d,className:"mb-4",theme:"snow",placeholder:"Write your product description here..."}),(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n  .uploadcare--widget {\n    background:black;\n  }\n  "}}),(0,a.jsx)(o.Z,{HandleImagesChange:e=>{e&&N(e)}}),(0,a.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Specifications"}),f.map((e,t)=>(0,a.jsx)("div",{className:"flex gap-4 mb-2",children:(0,a.jsx)("input",{type:"text",placeholder:"Value",value:e.name,onChange:e=>E(t,"name",e.target.value),className:"flex-1 border p-2",required:!0})},t)),(0,a.jsx)("button",{type:"button",onClick:()=>{p([...f,{name:"",value:""}])},style:{fontSize:"20px"},className:"bg-blue-500 text-white px-3 py-1 mb-4 flex",children:"+"}),(0,a.jsx)("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2",children:"Save Product"})]})}},1213:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let a=l(6927);l(2310);let n=a._(l(1354));function r(e){return{default:(null==e?void 0:e.default)||e}}function u(e,t){let l=n.default,a={loading:e=>{let{error:t,isLoading:l,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e),Object.assign(a,t);let u=a.loader;return l({...a,loader:()=>null!=u?u().then(r):Promise.resolve(r(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3238:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{suspense:function(){return n},NoSSR:function(){return r}}),l(6927),l(2310);let a=l(5978);function n(){let e=Error(a.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=a.NEXT_DYNAMIC_NO_SSR_CODE,e}function r(e){let{children:t}=e;return t}},1354:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let a=l(6927),n=a._(l(2310)),r=l(3238),u=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function l(e){let l=t.loading,a=n.default.createElement(l,{isLoading:!0,pastDelay:!0,error:null}),u=t.ssr?n.default.Fragment:r.NoSSR,o=t.lazy;return n.default.createElement(n.default.Suspense,{fallback:a},n.default.createElement(u,null,n.default.createElement(o,e)))}return t.lazy=n.default.lazy(t.loader),l.displayName="LoadableComponent",l}},3208:function(){}},function(e){e.O(0,[722,704,801,744],function(){return e(e.s=3124)}),_N_E=e.O()}]);